<ng-container *ngIf="!userControl?.value; else chatTemplate">
    <div class="chat-blank">
      <input
        type="text"
        (keydown.enter)="onEnterName($event)"
        placeholder="Enter your name"
      />
    </div>
  </ng-container>
  <ng-template #chatTemplate>
    <div class="chat-container">
      <div class="message-list">
        @if(messages().length === 0){
        <div class="message-welcome">
          <span> Welcome to talk with me application </span>
        </div>
        }
  
        <div
          *ngFor="let message of messages()"
          [ngClass]="{
            sent: message.sender === this.userControl.value,
            received: message.sender !== this.userControl.value
          }"
          class="message-item"
        >
          <div class="message-avatar">
            <img
              [src]="
                message.sender === this.userControl.value
                  ? senderAvatar()
                  : recieverAvatar()
              "
              alt="Avatar"
            />
          </div>
          <div class="message-content">
            <p>{{ message.message }}</p>
            <div class="timestamp">
              <span class="message-sender-name">
                {{ message.sender }}
              </span>
              <span class="message-time">{{
                message.timestamp | date : 'shortTime'
              }}</span>
            </div>
          </div>
        </div>
      </div>
      <!-- Message Input -->
      <div class="message-input bottom">
        <input
          type="text"
          #inputRef
          placeholder="Type a message and enter"
          (keydown.enter)="onSend($event)"
        />
      </div>
    </div>
  </ng-template>
  